public ArrayList<ProjectDetails> getProjectsFullView(Integer year) {

    // üîÅ Reuse EXISTING year logic
    ArrayList<ProjectDetails> projects = getProjectsbyyear(year);

    // üî• Apply SVS filter ONLY here
    return projects.stream()
            .filter(p ->
                    p.getForTeam() != null &&
                    p.getForTeam().trim().endsWith("SVS")
            )
            .collect(Collectors.toCollection(ArrayList::new));
}


UPDATE project_details
SET
    status = 'Build',
    implementation_dates = DATE '2026-01-14',
    start_date = DATE '2025-12-01',
    end_date = DATE '2026-02-28'
WHERE for_team = 'COLLECTIONS'
  AND project_name = '2026-C&R LettersChange'
  AND clarity_id = '02022/PRJ71790';



UPDATE project_details c
SET
    status = ca.status,
    implementation_dates = ca.implementation_dates,
    start_date = ca.start_date,
    end_date = ca.end_date
FROM project_details ca
WHERE ca.for_team = 'CARDS'
  AND c.for_team = 'COLLECTIONS'
  AND c.project_name = ca.project_name
  AND c.clarity_id = ca.clarity_id;
